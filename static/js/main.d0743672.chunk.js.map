{"version":3,"sources":["api.js","useFetch.js","context.js","components/Movies/Movies.js","components/SearchFrom/SearchFrom.js","pages/Home/Home.js","components/SingleMovie/SingleMovie.js","App.js","index.js"],"names":["REACT_APP_MOVIE_API_KEY","API_ENDPOINT","useFetch","urlParams","useState","isLoading","setIsLoading","show","msg","error","setError","data","setData","fetchMovies","url","a","fetch","response","json","Response","Search","Error","console","log","useEffect","AppContext","React","createContext","AppProvider","children","query","setQuery","movies","Provider","value","useGlobalContext","useContext","Movies","className","map","movie","id","imdbID","poster","Poster","title","Title","year","Year","to","src","alt","SearchForm","onSubmit","e","preventDefault","type","onChange","target","Home","SingleMovie","useParams","plot","Plot","App","path","exact","ReactDOM","render","StrictMode","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.d0743672.chunk.js","sourcesContent":["export const REACT_APP_MOVIE_API_KEY = '67abcb3f'","import React, { useState, useEffect } from 'react'\r\nimport { REACT_APP_MOVIE_API_KEY } from './api'\r\nconst API_ENDPOINT = `https://www.omdbapi.com/?apikey=${REACT_APP_MOVIE_API_KEY}`\r\n\r\nconst useFetch = (urlParams) => {\r\n\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [error, setError] = useState({ show: false, msg: '' })\r\n  const [data, setData] = useState(null)\r\n\r\n  const fetchMovies = async (url) => {\r\n    setIsLoading(true)\r\n    try {\r\n      const response = await fetch(url)\r\n      const data = await response.json()\r\n\r\n      if (data.Response === 'True') {\r\n        setData(data.Search || data)\r\n\r\n        setError({ show: false, msg: '' })\r\n      } else {\r\n        setError({ show: true, msg: data.Error })\r\n      }\r\n      setIsLoading(false)\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchMovies(`${API_ENDPOINT}${urlParams}`)\r\n  }, [urlParams])\r\n  \r\n  return { isLoading, error, data }\r\n}\r\n\r\nexport default useFetch","import React, { useState, useContext, useEffect } from 'react'\r\nimport { REACT_APP_MOVIE_API_KEY } from './api'\r\n// make sure to use https\r\nimport useFetch from './useFetch'\r\nexport const API_ENDPOINT = `https://www.omdbapi.com/?apikey=${REACT_APP_MOVIE_API_KEY}`\r\nconst AppContext = React.createContext()\r\n\r\nconst AppProvider = ({ children }) => {\r\n  const [query, setQuery] = useState('terminator')\r\n  const { isLoading, error, data: movies } = useFetch(`&s=${query}`)\r\n\r\n  return (\r\n    <AppContext.Provider value={{ isLoading, error, movies, query, setQuery }}>\r\n      {children}\r\n    </AppContext.Provider>\r\n  )\r\n}\r\n// make sure use\r\nexport const useGlobalContext = () => {\r\n  return useContext(AppContext)\r\n}\r\n\r\nexport { AppContext, AppProvider }","import React from 'react'\r\nimport { useGlobalContext } from '../../context'\r\nimport { Link } from 'react-router-dom'\r\nconst url =\r\n  'https://upload.wikimedia.org/wikipedia/commons/f/fc/No_picture_available.png'\r\n\r\nconst Movies = () => {\r\n  const { movies, isLoading } = useGlobalContext()\r\n\r\n  if (isLoading) {\r\n    return <div className='loading'></div>\r\n  }\r\n  return (\r\n    <section className='movies'>\r\n      {movies.map((movie) => {\r\n        const { imdbID: id, Poster: poster, Title: title, Year: year } = movie\r\n\r\n        return (\r\n          <Link to={`/movies/${id}`} key={id} className='movie'>\r\n            <article>\r\n              <img src={poster === 'N/A' ? url : poster} alt={title} />\r\n              <div className='movie-info'>\r\n                <h4 className='title'>{title}</h4>\r\n                <p>{year}</p>\r\n              </div>\r\n            </article>\r\n          </Link>\r\n        )\r\n      })}\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Movies","import React from 'react'\r\nimport { useGlobalContext } from '../../context'\r\n\r\n\r\nconst SearchForm = () => {\r\n  const { query, setQuery, error } = useGlobalContext()\r\n\r\n  return (\r\n    <form className='search-form' onSubmit={(e) => e.preventDefault()}>\r\n      <h2>search movies</h2>\r\n      <input\r\n        type='text '\r\n        className='form-input'\r\n        value={query}\r\n        onChange={(e) => setQuery(e.target.value)}\r\n      />\r\n      {error.show && <div className='error'>{error.msg}</div>}\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default SearchForm","  \r\nimport React from 'react'\r\n\r\nimport Movies from '../../components/Movies/Movies'\r\nimport SearchForm from '../../components/SearchFrom/SearchFrom'\r\n\r\n\r\nconst Home = () => {\r\n  return (\r\n    <main>\r\n      <SearchForm />\r\n      <Movies />\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Home","import React from 'react'\r\nimport { useParams, Link } from 'react-router-dom'\r\n// import { API_ENDPOINT } from '../../context'\r\nimport useFetch from '../../useFetch'\r\n\r\n\r\n\r\nconst SingleMovie = () => {\r\n  const { id } = useParams()\r\n  const { isLoading, error, data: movie } = useFetch(`&i=${id}`)\r\n\r\n  if (isLoading) {\r\n    return <div className='loading'></div>\r\n  }\r\n  if (error.show) {\r\n    return (\r\n      <div className='page-error'>\r\n        <h1>{error.msg}</h1>\r\n        <Link to='/' className='btn'>\r\n          back to movies\r\n        </Link>\r\n      </div>\r\n    )\r\n  }\r\n  const { Poster: poster, Title: title, Plot: plot, Year: year } = movie\r\n  return (\r\n    <section className='single-movie'>\r\n      <img src={poster} alt={title} />\r\n      <div className='single-movie-info'>\r\n        <h2>{title}</h2>\r\n        <p>{plot}</p>\r\n        <h4>{year}</h4>\r\n        <Link to='/' className='btn'>\r\n          back to movies\r\n        </Link>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default SingleMovie","import React from 'react'\nimport { Switch, Route } from 'react-router-dom'\n\nimport Home from './pages/Home/Home'\nimport SingleMovie from './components/SingleMovie/SingleMovie'\n\nfunction App() {\n  return (\n    <Switch>\n      <Route path='/' exact>\n        <Home />\n      </Route>\n      <Route path='/movies/:id' children={<SingleMovie />} />\n    </Switch>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport { AppProvider } from './context'\nimport { BrowserRouter as Router } from 'react-router-dom'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <Router basename={process.env.PUBLIC_URL}>\n        <App />\n      </Router>\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)"],"sourceRoot":""}